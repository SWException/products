{
    "$id": "src/products/schema.json",
    "product": {
        "type": "object",
        "properties": {
            "id": { "type": "string", "minLength": 1 },
            "name": { "type": "string", "minLength": 1, "maxLength": 50 },
            "description": { "type": "string", "minLength": 1, "maxLength": 250 },
            "primaryPhoto": { "type": "string", "format": "uri" },
            "secondaryPhotos": { 
                "type": "array", 
                "items": { "type": "string", "format": "uri" },
                "uniqueItems": true,
                "maxItems": 4
            },
            "category": { "type": "string", "minLength": 1},
            "price": { "type": "number", "format": "float", "minimum": 0 },
            "tax": { "type": "number", "format": "float", "minimum": 0 },
            "show": { "type": "boolean" },
            "showHome": { "type": "boolean" },
            "stock": { "type": "integer", "format": "int64", "minimum": 0 }
        }
    },
    "insertProduct": {
        "allOf" : [
            { "$ref": "#/product" },
            {
                "required": ["name", "description", "price", "tax"]
            }
        ]
    },
    "editProduct": {
        "allOf" : [
            { "$ref": "#/product" },
            {
                "required": ["id"]
            }
        ]
    },
    "products": {  
        "type": "array",
        "items": { "$ref": "#/product" },
        "uniqueItems": true
    },
    "responseProduct": {
        "allOf" : [
            { "$ref": "../utils/schema.json#/response" },
            {
                "properties": {
                    "data": { "$ref": "#/product" }
                }
            }
        ]
    },
    "responseProducts": {
        "allOf" : [
            { "$ref": "../utils/schema.json#/response" },
            {
                "properties": {
                    "data": { "$ref": "#/products" }
                }
            }
        ]
    }
}
